[ui]
username = Casey McGinty <cmcginty@fb.com>
merge = p4merge
style = compact

[extensions]
hgext.extdiff =

[extdiff]
cmd.p4merge = /Applications/p4merge.app/Contents/Resources/launchp4merge

[merge-tools]
p4merge.executable = /Applications/p4merge.app/Contents/Resources/launchp4merge
p4merge.args = $base $local $other $output
p4merge.binary = false
p4merge.checkchanged = true
p4merge.dirdiff = false
p4merge.gui = true
p4merge.premerge = true

[templatealias]
fb_rev = if(svnrev, 'r{svnrev}', rev)
subject = truncatelonglines(desc|firstline,72,"Â·")
blue  = '\x1B[34m'
cyan  = '\x1B[36m'
green = '\x1B[32m'
reset = '\x1B[0m'

[alias]
# e.g commit --amend
bot     = prev --bottom
br      = bookmark
bra     = bookmark --all
cam     = amend
came    = amend --edit
cami    = amend --interactive
cm      = commit
cma     = amend
cmi     = commit --interactive
co      = checkout
di      = diff
drop    = hide
fetch   = pull
lg      = log --template '{blue}{fb_rev}{reset} [{green}{date|age}{reset}] {subject}, {cyan}{author|person}{reset}\n'
lgf     = log --verbose
lgm     = log
lgp     = log --patch
lgp1    = log --patch --limit 1
lgs     = log --stat
lgv     = log --verbose
pl      = pull --rebase -d master
pull    = pull --rebase -d master
slh     = sl --hidden
# rebase all local branches
rba     = rebase --dest master --rev 'draft()'
rbi     = histedit
rbib    = histedit -r bottom
rsh     = revert --all
rt      = revert
rta     = revert --all
rti     = revert --interactive
sha     = identify
slh     = sl --hidden
slp     = sl --patch
sls     = sl --stat
sp      = sparse
svn     = log -l1 -T 'r{svnrev}\n'
top     = next --top
u       = undo
